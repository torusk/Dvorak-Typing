:root{
  --bg:#fafafa;
  --key-bg:#d3d6da;
  --key-fg:#111;
  --key-correct:#6aaa64;
  --key-present:#c9b458;
  --key-absent:#3a3a3c;
  --tile-bg:#ffffff;
  --tile-border:#d3d6da;
  --tile-fg:#111;
  --tile-correct:#6aaa64;
  --tile-wrong:#b00020;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Noto Sans JP, Helvetica, Arial, sans-serif;
  color:#111;
  background:var(--bg);
  display:flex;
  flex-direction:column;
}

.app-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:8px 12px;
  border-bottom:1px solid #e5e7eb;
  background:#fff;
}
.title{font-size:18px;margin:0}
.btn{
  appearance:none;border:1px solid #e5e7eb;background:#fff;color:#111;
  padding:6px 10px;border-radius:8px;cursor:pointer;font-weight:600
}
.btn:active{transform:translateY(1px)}
.controls{display:flex;gap:8px}

.game{
  max-width:920px; margin:0 auto; padding:24px; width:100%; flex:1;
  display:flex; flex-direction:column; align-items:center; justify-content:center; gap:20px;
}
.statusbar{display:flex; gap:16px; font-weight:600}
.text{
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  font-size:28px; line-height:1.6; letter-spacing:0.2px;
  white-space:pre-wrap; text-align:center;
}
.text .typed{color:inherit}
.text .current{position:relative; text-decoration:underline; text-underline-offset:6px}
.text .remaining{color:#222}

.message{min-height:22px; color:#444; font-size:14px; text-align:center}

.spacer{height:4px}

.keyboard-wrapper{background:var(--bg); border-top:none; padding:10px 8px; width:100%; display:flex; justify-content:center}
.keyboard{display:flex; flex-direction:column; gap:10px; width:100%; max-width:820px}
.row{display:flex; gap:6px; justify-content:center}

.key{
  user-select:none;
  background:var(--key-bg); color:var(--key-fg);
  border:none; border-radius:6px; height:60px; min-width:46px;
  padding:0 10px; font-weight:700; cursor:pointer;
  display:flex; align-items:center; justify-content:center;
}
.key.wide{min-width:84px}
.key.space{min-width:50vw}
.key.active{background:#818cf8; color:#fff; outline:none}

.mode select{
  height:32px; border:1px solid #e5e7eb; border-radius:6px; padding:0 8px; font-weight:600;
}
.key.correct{background:var(--key-correct); color:#fff}
.key.present{background:var(--key-present); color:#fff}
.key.absent{background:var(--key-absent); color:#fff}
.key.flash-correct{background:var(--key-correct) !important; color:#fff}
.key.flash-wrong{background:var(--tile-wrong) !important; color:#fff}

@media (max-width:420px){
  .key{height:54px}
  .text{font-size:22px}
}
