/*
  style.css: レイアウトと配色を定義。
  - 画面構成: 上部ヘッダー / 中央にテキスト / 下部に仮想キーボード
  - 文字色のルールは `.text .char.*` に集約（JSがクラス付与）
    * `.char`        : 未入力（灰）
    * `.char.correct`: 正解（黒）
    * `.char.wrong`  : ミス（赤）
    * `.char.current`: 現在位置の下線
  - 可読性を優先した控えめな配色。全体の雰囲気は既定のまま維持。
*/
:root{
  --bg:#fafafa;
  --key-bg:#d3d6da;
  --key-fg:#111;
  --key-correct:#6aaa64;
  --key-present:#c9b458;
  --key-absent:#3a3a3c;
  --tile-wrong:#b00020;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Noto Sans JP, Helvetica, Arial, sans-serif;
  color:#111;
  background:var(--bg);
  display:flex;
  flex-direction:column;
}

.app-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:8px 12px;
  border-bottom:1px solid #e5e7eb;
  background:#fff;
}
.title{font-size:18px;margin:0}
.btn{
  appearance:none;border:1px solid #e5e7eb;background:#fff;color:#111;
  padding:6px 10px;border-radius:8px;cursor:pointer;font-weight:600
}
.btn:active{transform:translateY(1px)}
.controls{display:flex;gap:8px}

.game{
  max-width:920px; margin:0 auto; padding:24px; width:100%; flex:1;
  display:flex; flex-direction:column; align-items:center; justify-content:center; gap:20px;
}

/* === 表示テキスト（常に1行） === */
.text{
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  font-size:28px; line-height:1.6; letter-spacing:0.2px;
  white-space:nowrap;          /* 必ず1行 */
  overflow:hidden;             /* 幅からはみ出る分はJS側で単語削除 */
  text-overflow:clip;
  text-align:center;
  max-width:900px; margin:0 auto;
}
.text .char{color:#6b7280}
.text .char.correct{color:#111}
.text .char.wrong{color:var(--tile-wrong)}
.text .char.current{position:relative; text-decoration:underline; text-underline-offset:6px}

/* 3行表示用 */
.text .line{white-space:nowrap}
.text .next-line{color:#6b7280; opacity:0.9}



/* === キーボード === */
.keyboard-wrapper{background:var(--bg); border-top:none; padding:10px 8px; width:100%; display:flex; justify-content:center}
.keyboard{display:flex; flex-direction:column; gap:10px; width:100%; max-width:820px}
.row{display:flex; gap:6px; justify-content:center}

.key{
  user-select:none;
  background:var(--key-bg); color:var(--key-fg);
  border:none; border-radius:6px; height:60px; min-width:46px;
  padding:0 10px; cursor:pointer;
  display:flex; align-items:center; justify-content:center;

  /* ===== CHANGED: ラベルの“黄金比”サイズに微調整 =====
     以前より小さめ：読みやすさとバランスを両立
     必要なら 22px〜26px の範囲で微調整してください。 */
  font-weight:800;
  font-size:19px;        /* ← 調整ポイント（前回28px → 24px） */
  letter-spacing:0.25px; /* ← 少しだけ広げる。詰めたい場合は 0 に */
}
.key.wide{min-width:84px}
.key.space{min-width:50vw}
.key.active{
  /* 背景色はそのまま（灰色）。有効時は太い枠線で強調 */
  background:var(--key-bg);
  color:var(--key-fg);
  outline:3px solid #000; /* 枠色: 黒 */
  outline-offset:0;
}

.mode select{
  height:32px; border:1px solid #e5e7eb; border-radius:6px; padding:0 8px; font-weight:600;
}

.key.flash-correct{background:var(--key-correct) !important; color:#fff}
.key.flash-wrong{background:var(--tile-wrong) !important; color:#fff}

/* ===== CHANGED: スモールスクリーン時も“見た目バランス”優先 =====
   さらに小さい端末向けに2ptだけ下げています。 */
@media (max-width:420px){
  .key{height:54px; font-size:22px} /* ← 調整ポイント（必要に応じて変えてOK） */
  .text{font-size:22px}
}
